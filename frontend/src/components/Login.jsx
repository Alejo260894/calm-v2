import React, {useState} from 'react';import { login } from '../api';export default function Login({onLogin}){ const [u,setU]=useState('admin'); const [p,setP]=useState('admin'); const [err,setErr]=useState('');
async function submit(e){ e.preventDefault(); try{ const res = await login(u,p); localStorage.setItem('token', res.access_token); onLogin(res.access_token); } catch(e){ setErr('Login failed') } }
return (<div className='max-w-md mx-auto bg-white p-6 rounded shadow'><h2 className='text-xl font-bold mb-4'>Login</h2>{err && <div className='text-red-600'>{err}</div>}<form onSubmit={submit} className='space-y-3'><input className='w-full p-2 border' value={u} onChange={e=>setU(e.target.value)} /><input type='password' className='w-full p-2 border' value={p} onChange={e=>setP(e.target.value)} /><button className='w-full bg-blue-600 text-white p-2 rounded'>Login</button></form><p className='mt-3 text-sm'>Demo admin/admin</p></div>) }
